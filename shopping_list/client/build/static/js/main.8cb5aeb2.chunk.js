(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{90:function(t,e,n){},91:function(t,e,n){"use strict";n.r(e);var r=n(2),a=n.n(r),s=n(24),c=n.n(s),i=n(6),o=n.n(i),u=n(11),h=n(12),l=n(13),d=n(19),p=n(15),j=n(14),m=n(107),b=n(105),f=n(106),O=n(92),x=n(4),v=function(t){Object(p.a)(n,t);var e=Object(j.a)(n);function n(t){var r;return Object(h.a)(this,n),(r=e.call(this,t)).state={visible:!0},r}return Object(l.a)(n,[{key:"render",value:function(){var t=this;return Object(x.jsx)(O.a,{className:"mt-3",color:this.props.color,isOpen:this.state.visible,toggle:function(){return t.setState({visible:!1})},children:this.props.text})}}]),n}(r.Component),g=function(t){Object(p.a)(n,t);var e=Object(j.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"page-title",children:[Object(x.jsx)("h4",{className:"title-text",children:this.props.title}),Object(x.jsx)("div",{className:"right",children:this.props.children})]})})}}]),n}(r.Component),k=n(109),w=n(110),y=n(111),I=n(104),C=n(102),N=n(103),E=n(93),M=n(20),S=n.n(M),T=function(){var t=Object(u.a)(o.a.mark((function t(e){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.get("/api/groups/".concat(e));case 2:return n=t.sent,t.abrupt("return",{id:n.data.id,name:n.data.name,notes:n.data.notes});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F=function(){var t=Object(u.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.get("/api/groups/ids/");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=function(){var t=Object(u.a)(o.a.mark((function t(e){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.get("/api/items/group/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),R=n(50),D=function(t){Object(p.a)(n,t);var e=Object(j.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(x.jsxs)(E.a,{className:"d-flex",children:[Object(x.jsxs)("div",{className:"d-block mt-auto",children:[this.props.name,""===this.props.notes?"":Object(x.jsx)("small",{className:"d-block text-muted",children:this.props.notes})]}),Object(x.jsx)("div",{className:"my-auto ml-auto",children:Object(x.jsx)(R.a,{size:"sm",color:"info",children:"Complete"})})]})}}]),n}(r.Component),L=n(94),z=n(52),B=n(51),G=function(t){Object(p.a)(n,t);var e=Object(j.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(x.jsxs)("label",{htmlFor:"checkbox_".concat(this.props.item.id),className:"custom-control-label",children:[this.props.item.name,this.props.item.recurring?Object(x.jsx)(B.a,{className:"ml-1",style:{paddingBottom:"3px"}}):"",""===this.props.item.notes?"":Object(x.jsx)("small",{className:"text-muted d-block",children:this.props.item.notes})]})}}]),n}(r.Component),J=n(35),P="/api/alerts/",_=function(){var t=Object(u.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.get(P);case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),U=function(){var t=Object(u.a)(o.a.mark((function t(e,n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.post(P,{text:e,color:n});case 2:if(200!==t.sent.status){t.next=8;break}return t.next=6,Promise.resolve();case 6:t.next=10;break;case 8:return t.next=10,Promise.reject();case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),q=function(){var t=Object(u.a)(o.a.mark((function t(e,n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="Successfully ".concat(e," ").concat(n,"."),t.next=3,U(r,"success");case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),H=function(){var t=Object(u.a)(o.a.mark((function t(e){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.get("/api/items/".concat(e));case 2:return n=t.sent,t.abrupt("return",{id:n.data.id,name:n.data.name,notes:n.data.notes,checked:n.data.checked,groups:n.data.groups,recurring:n.data.recurring});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),K=function(t){var e=[];return t.groups.forEach((function(t){e.push(t.groupId)})),e},Q=function(){var t=Object(u.a)(o.a.mark((function t(e){var n,r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(J.a)(Object(J.a)({},e),{},{groups:K(e)}),t.prev=1,t.next=4,S.a.put("/api/items/edit/".concat(e.id),n);case 4:return r=t.sent,a=r.data,t.next=8,q("updated",'item "'.concat(a.name,'"'));case 8:t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(1),t.t0;case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),V=function(t){Object(p.a)(n,t);var e=Object(j.a)(n);function n(t){var r;return Object(h.a)(this,n),(r=e.call(this,t)).state={item:null},r}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(){var t=Object(u.a)(o.a.mark((function t(e,n,r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.props.reRenderItem||this.props.reRenderItem===e.reRenderItem){t.next=8;break}return t.t0=this,t.next=4,H(this.props.itemId);case 4:t.t1=t.sent,t.t2={item:t.t1},t.t0.setState.call(t.t0,t.t2),this.props.resetEditedItemId();case 8:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var t=Object(u.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H(this.props.itemId);case 2:e=t.sent,this.setState({item:e});case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return null!==this.state.item?Object(x.jsx)(r.Fragment,{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:Object(x.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(x.jsx)(L.a,{id:"checkbox_".concat(this.state.item.id),type:"checkbox",className:"custom-control-input",checked:this.state.item.checked,onChange:function(){return console.log("check toggle")}}),Object(x.jsx)(G,{item:this.state.item})]})}),Object(x.jsx)("td",{children:Object(x.jsx)(z.a,{style:{cursor:"pointer"},onClick:function(){return t.props.toggleEditItemModal(t.state.item)}})})]})}):Object(x.jsx)("tr",{children:Object(x.jsx)("td",{colSpan:2,children:"Loading item..."})})}}]),n}(r.Component),W=n(101),X=n(97),Y=n(108),Z=n(98),$=n(99),tt=n(100),et=n(96),nt=n(95),rt=function(t){Object(p.a)(n,t);var e=Object(j.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(x.jsxs)(nt.a,{children:[Object(x.jsx)(et.a,{htmlFor:this.props.id,children:this.props.label}),Object(x.jsx)(L.a,{id:this.props.id,type:this.props.type,value:this.props.value,onChange:this.props.onChange})]})}}]),n}(r.Component),at=function(t){Object(p.a)(n,t);var e=Object(j.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(x.jsx)(nt.a,{check:!0,children:Object(x.jsxs)(et.a,{check:!0,children:[Object(x.jsx)(L.a,{checked:this.props.checked,onChange:this.props.handleChange,type:"checkbox"}),this.props.label]})})}}]),n}(r.Component),st=function(t){Object(p.a)(n,t);var e=Object(j.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(x.jsxs)(r.Fragment,{children:[this.renderNameInput(),this.renderNotesInput(),this.renderRecurringInput()]})}},{key:"renderNameInput",value:function(){return Object(x.jsx)(rt,{label:"Name",id:"name-input",type:"text",value:this.props.name,onChange:this.props.handleNameTextChange})}},{key:"renderNotesInput",value:function(){return Object(x.jsx)(rt,{label:"Notes",id:"notes-input",type:"textarea",value:this.props.notes,onChange:this.props.handleNotesTextChange})}},{key:"renderRecurringInput",value:function(){return Object(x.jsxs)(r.Fragment,{children:[Object(x.jsx)(et.a,{className:"mb-0",children:"Recurring"}),Object(x.jsx)(at,{checked:this.props.recurring,handleChange:this.props.handleRecurringCheckChange,label:"Item repeats"})]})}}]),n}(r.Component),ct=function(t){Object(p.a)(n,t);var e=Object(j.a)(n);function n(t){var r;return Object(h.a)(this,n),(r=e.call(this,t)).state={id:r.props.item.id,name:r.props.item.name,notes:r.props.item.notes,recurring:r.props.item.recurring,groups:r.props.item.groups,checked:r.props.item.checked},r.handleNameTextChange=r.handleNameTextChange.bind(Object(d.a)(r)),r.handleNotesTextChange=r.handleNotesTextChange.bind(Object(d.a)(r)),r.handleRecurringCheckChange=r.handleRecurringCheckChange.bind(Object(d.a)(r)),r.submitForm=r.submitForm.bind(Object(d.a)(r)),r}return Object(l.a)(n,[{key:"render",value:function(){var t=this;return Object(x.jsx)(X.a,{children:Object(x.jsxs)(Y.a,{centered:!0,toggle:this.props.closeEditModal,isOpen:this.props.showEditModal,children:[Object(x.jsx)(Z.a,{toggle:this.props.closeEditModal,className:"d-flex",children:this.props.item.name}),Object(x.jsx)($.a,{children:this.renderEditItemForm()}),Object(x.jsxs)(tt.a,{children:[Object(x.jsx)(R.a,{onClick:this.props.closeEditModal,color:"secondary",children:"Cancel"}),Object(x.jsx)(R.a,{onClick:Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.submitForm();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),type:"submit",color:"info",children:"Submit"})]})]})})}},{key:"renderEditItemForm",value:function(){return Object(x.jsx)(st,{name:this.state.name,notes:this.state.notes,recurring:this.state.recurring,handleNameTextChange:this.handleNameTextChange,handleNotesTextChange:this.handleNotesTextChange,handleRecurringCheckChange:this.handleRecurringCheckChange})}},{key:"handleNameTextChange",value:function(t){this.setState({name:t.target.value})}},{key:"handleNotesTextChange",value:function(t){this.setState({notes:t.target.value})}},{key:"handleRecurringCheckChange",value:function(t){this.setState({recurring:t.target.checked}),console.log("checked?",t.target.checked)}},{key:"submitForm",value:function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q(this.state);case 2:this.props.submitEditItem(this.state.id);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),n}(r.Component),it=function(t){Object(p.a)(n,t);var e=Object(j.a)(n);function n(t){var r;return Object(h.a)(this,n),(r=e.call(this,t)).state={showEditItemModal:!1,itemToEdit:null,editedItemId:null,loading:!0},r.showEditItemModal=r.showEditItemModal.bind(Object(d.a)(r)),r.toggleEditItemModal=r.toggleEditItemModal.bind(Object(d.a)(r)),r.submitEditItem=r.submitEditItem.bind(Object(d.a)(r)),r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.setState({loading:!1})}},{key:"render",value:function(){var t=this;return this.state.loading?Object(x.jsx)("p",{children:"Loading"}):Object(x.jsxs)(r.Fragment,{children:[Object(x.jsx)(W.a,{className:"mb-0 same-width",striped:!0,children:Object(x.jsx)("tbody",{children:this.props.itemIds.map((function(e){return Object(x.jsx)(V,{itemId:e,toggleEditItemModal:t.showEditItemModal,reRenderItem:t.state.editedItemId===e,resetEditedItemId:function(){return t.setState({editedItemId:null})}},e)}))})}),this.renderEditItemModal()]})}},{key:"renderEditItemModal",value:function(){return this.state.showEditItemModal&&null!==this.state.itemToEdit?Object(x.jsx)(ct,{showEditModal:this.state.showEditItemModal,closeEditModal:this.toggleEditItemModal,item:this.state.itemToEdit,submitEditItem:this.submitEditItem}):Object(x.jsx)(r.Fragment,{})}},{key:"toggleEditItemModal",value:function(){this.setState({showEditItemModal:!this.state.showEditItemModal})}},{key:"showEditItemModal",value:function(t){this.setState({itemToEdit:t,showEditItemModal:!0})}},{key:"submitEditItem",value:function(){var t=Object(u.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({editedItemId:e,showEditItemModal:!1}),t.next=3,this.props.fetchNewAlerts();case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),n}(r.Component),ot=function(t){Object(p.a)(n,t);var e=Object(j.a)(n);function n(t){var r;return Object(h.a)(this,n),(r=e.call(this,t)).state={id:null,name:null,notes:null,itemIds:[],loading:!0},r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=Object(u.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(this.props.groupId);case 2:return e=t.sent,this.setState({id:e.id,name:e.name,notes:e.notes}),t.next=6,this.getGroupItemIds();case 6:return t.next=8,this.finishLoading();case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(x.jsx)(r.Fragment,{children:Object(x.jsx)(C.a,{className:"space-between",children:this.state.loading?Object(x.jsx)(N.a,{children:"Loading group..."}):Object(x.jsxs)(r.Fragment,{children:[Object(x.jsx)(D,{name:this.state.name,notes:this.state.notes}),Object(x.jsx)(it,{itemIds:this.state.itemIds,fetchNewAlerts:this.props.fetchNewAlerts})]})})})}},{key:"getGroupItemIds",value:function(){var t=Object(u.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(this.props.groupId);case 2:e=t.sent,this.setState({itemIds:e});case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"finishLoading",value:function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.setState({loading:!1});case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),n}(r.Component),ut=function(t){Object(p.a)(n,t);var e=Object(j.a)(n);function n(t){var r;return Object(h.a)(this,n),(r=e.call(this,t)).state={actionsDropdownOpen:!1,groupIds:[],loading:!0},r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=Object(u.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F();case 2:e=t.sent,this.setState({groupIds:e}),this.setState({loading:!1});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return Object(x.jsxs)("div",{children:[Object(x.jsx)(g,{title:"Shopping List",children:Object(x.jsxs)(k.a,{isOpen:this.state.actionsDropdownOpen,toggle:function(){return t.toggleActionsMenu()},size:"sm",color:"info",children:[Object(x.jsx)(w.a,{caret:!0,children:"Actions"}),Object(x.jsxs)(y.a,{right:!0,children:[Object(x.jsx)(I.a,{children:"Test"}),Object(x.jsx)(I.a,{children:"Test"})]})]})}),Object(x.jsxs)(b.a,{children:[Object(x.jsx)(f.a,{sm:12,lg:8,children:this.state.loading?Object(x.jsx)(C.a,{children:Object(x.jsx)(N.a,{children:"Loading groups..."})}):this.state.groupIds.map((function(e){return Object(x.jsx)(ot,{groupId:e,fetchNewAlerts:t.props.fetchNewAlerts},e)}))}),Object(x.jsx)(f.a,{children:Object(x.jsxs)(C.a,{className:"space-between mt-3 mt-lg-0",children:[Object(x.jsx)(E.a,{children:"New Item"}),Object(x.jsx)(N.a,{children:"Form"})]})})]})]})}},{key:"toggleActionsMenu",value:function(){this.setState({actionsDropdownOpen:!this.state.actionsDropdownOpen})}}]),n}(r.Component),ht=function(t){Object(p.a)(n,t);var e=Object(j.a)(n);function n(t){var r;return Object(h.a)(this,n),(r=e.call(this,t)).state={alerts:[]},r.fetchNewAlerts=r.fetchNewAlerts.bind(Object(d.a)(r)),r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchNewAlerts();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"fetchNewAlerts",value:function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAlerts();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t;return Object(x.jsxs)(m.a,{className:"main-container pt-0",children:[Object(x.jsx)(b.a,{children:Object(x.jsx)(f.a,{children:null===(t=this.state.alerts)||void 0===t?void 0:t.map((function(t){return Object(x.jsx)(v,{color:t.color,text:t.text},t.text)}))})}),Object(x.jsx)(b.a,{children:Object(x.jsx)(f.a,{children:Object(x.jsx)(ut,{fetchNewAlerts:this.fetchNewAlerts})})})]})}},{key:"getAlerts",value:function(){var t=Object(u.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_();case 2:e=t.sent,this.setState({alerts:e});case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),n}(r.Component);n(90);c.a.render(Object(x.jsx)(a.a.Fragment,{children:Object(x.jsx)(ht,{})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.8cb5aeb2.chunk.js.map